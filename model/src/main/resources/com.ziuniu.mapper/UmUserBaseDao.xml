<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.ziniu.dao.UmUserBaseDao">
    <!--auto generated Code-->
    <resultMap id="AllColumnMap" type="com.ziniu.domain.UmUserBase">
        <result column="user_id" property="userId"/>
        <result column="user_name" property="UserName"/>
        <result column="cell_num" property="cellNum"/>
        <result column="password" property="Password"/>
        <result column="status" property="status"/>
        <result column="gmt_create" property="gmtCreate"/>
        <result column="gmt_modfiy" property="gmtModfiy"/>
        <result column="reserve" property="reserve"/>
        <collection property="umsecUserRoles" ofType="com.ziniu.domain.UmSecUserRole" column="user_id"
                    select="com.ziniu.dao.UmSecUserRoleDao.findByUserId"/>
    </resultMap>

    <!--auto generated Code-->
    <sql id="all_column">
        `user_id`,
        `user_name`,
        `cell_num`,
        `password`,
        `status`,
        `gmt_create`,
        `gmt_modfiy`,
        `reserve`
    </sql>

    <!--auto generated Code-->
    <insert id="insert" useGeneratedKeys="true" keyProperty="pojo.userId">
        INSERT INTO um_user_base (
            `user_id`,
            `user_name`,
            `cell_num`,
            `password`,
            `status`,
            `gmt_create`,
            `gmt_modfiy`,
            `reserve`
        ) VALUES (
            #{pojo.userId},
            #{pojo.UserName},
            #{pojo.cellNum},
            #{pojo.Password},
            #{pojo.status},
            #{pojo.gmtCreate},
            #{pojo.gmtModfiy},
            #{pojo.reserve}
        )
    </insert>

    <!--auto generated Code-->
    <insert id="insertSelective" useGeneratedKeys="true" keyProperty="pojo.userId">
        INSERT INTO um_user_base
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="pojo.userId!=null"> `user_id`,</if>
            <if test="pojo.UserName!=null"> `user_name`,</if>
            <if test="pojo.cellNum!=null"> `cell_num`,</if>
            <if test="pojo.Password!=null"> `password`,</if>
            <if test="pojo.status!=null"> `status`,</if>
            <if test="pojo.gmtCreate!=null"> `gmt_create`,</if>
            <if test="pojo.gmtModfiy!=null"> `gmt_modfiy`,</if>
            <if test="pojo.reserve!=null"> `reserve`,</if>
        </trim>
        VALUES
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="pojo.userId!=null">#{pojo.userId},</if>
            <if test="pojo.UserName!=null">#{pojo.UserName},</if>
            <if test="pojo.cellNum!=null">#{pojo.cellNum},</if>
            <if test="pojo.Password!=null">#{pojo.Password},</if>
            <if test="pojo.status!=null">#{pojo.status},</if>
            <if test="pojo.gmtCreate!=null">#{pojo.gmtCreate},</if>
            <if test="pojo.gmtModfiy!=null">#{pojo.gmtModfiy},</if>
            <if test="pojo.reserve!=null">#{pojo.reserve},</if>
        </trim>
    </insert>

    <!--auto generated Code-->
    <insert id="insertList">
        INSERT INTO um_user_base (
        <include refid="all_column"/>
        )VALUES
        <foreach collection="pojos" item="pojo" index="index" separator=",">
            (
            #{pojo.userId},
            #{pojo.UserName},
            #{pojo.cellNum},
            #{pojo.Password},
            #{pojo.status},
            #{pojo.gmtCreate},
            #{pojo.gmtModfiy},
            #{pojo.reserve}
            )
        </foreach>
    </insert>

    <!--auto generated Code-->
    <update id="update">
        UPDATE um_user_base
        <set>
            <if test="pojo.userId != null"> `user_id` = #{pojo.userId}, </if>
            <if test="pojo.UserName != null"> `user_name` = #{pojo.UserName}, </if>
            <if test="pojo.cellNum != null"> `cell_num` = #{pojo.cellNum}, </if>
            <if test="pojo.Password != null"> `password` = #{pojo.Password}, </if>
            <if test="pojo.status != null"> `status` = #{pojo.status}, </if>
            <if test="pojo.gmtCreate != null"> `gmt_create` = #{pojo.gmtCreate}, </if>
            <if test="pojo.gmtModfiy != null"> `gmt_modfiy` = #{pojo.gmtModfiy}, </if>
            <if test="pojo.reserve != null"> `reserve` = #{pojo.reserve} </if>
        </set>
        WHERE user_id = #{pojo.userId}
    </update>

<!--auto generated by codehelper on 2017-05-07 15:46:42-->
    <select id="findByUserName" resultMap="AllColumnMap">
        select
        <include refid="all_column"/>
        from um_user_base
        where `user_name`=#{UserName}
    </select>

</mapper>

